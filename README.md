# dst_vimconfig

```
  __           __                                                           ___
 /\ \         /\ \__               __                                     / ___\ __
 \_\ \    ____\ \ ,_\      __  __ /\_\    ___ ___     ___    ___     ___ /\ \__//\_\     __
 / _\ \  / ,__\\ \ \/     /\ \/\ \\/\ \ /  __` __`\  / ___\ / __`\ /  _ `\ \ ,__\/\ \  / _ `\
/\ \L\ \/\__, `\\ \ \_    \ \ \_/ |\ \ \/\ \/\ \/\ \/\ \__//\ \L\ \/\ \/\ \ \ \_/\ \ \/\ \L\ \
\ \___,_\/\____/ \ \__\    \ \___/  \ \_\ \_\ \_\ \_\ \____\ \____/\ \_\ \_\ \_\  \ \_\ \____ \
 \/__,_ /\/___/   \/__/     \/__/    \/_/\/_/\/_/\/_/\/____/\/___/  \/_/\/_/\/_/   \/_/\/___L\ \
                                                                                         /\____/
                                                                                         \_/__/
```


## 1. 安装

### 1.1 ubuntu

```
curl https://raw.githubusercontent.com/daoshuti/dst_vimconfig/master/install.sh | bash
```

or

```
git clone https://github.com/daoshuti/dst_vimconfig.git ~/.dst_vimconfig
bash ~/.dst_vimconfig/install.sh
```

### 1.2 windows

1. 先安装Windows版本的`git`和`gvim`，并配置环境变量
2. 执行`install.cmd`脚本（可能需要管理员权限）

## 2. 快捷键

> 如下快捷键，请在Normal模式中使用

### 2.1 vim模式切换

   模式    |   功能   |         模式切换的按键
-----------|----------|-----------------------------------
Normal模式 | 查看文本 | `<ESC>`，其他模式进入Normal模式
Insert模式 | 编辑文本 | `i`or`a`or`<Insert>`，光标处插入<br>`I`，行首插入<br>`A`，行尾插入<br>`o`，下一行插入新行<br>`O`，上一行插入新行
Visual模式 | 选择文本 | `v`，文本块选择<br>`V`，文本行选择


### 2.2 Fn键

 Fn  |         功能
-----|------------------------
 F1  | Startify 窗口（首页）
 F2  | tagbar   窗口（代码速览）
 F3  | 文件浏览 窗口（目录树）
 F4  | 切换窗口
 F5  | 打开终端
 F6  | 粘贴模式（配合Shift + Insert插入文本）
 F7  | 代码折叠
 F9  | 生成tags（使用gutentags后，基本废弃）
 F12 | 生成cscope.out（使用gutentags后，基本废弃）

### 2.3 追代码的快捷键

#### 2.3.1 cscope

##### 介绍

1. 使用cscope时注意cscope的数据库是否加载
2. 打开文件后，gutentags插件会自动生成cscope数据
	2.1 根据文件路径向上逐级递归，如果发现某级目录下存在`.git`则，从此目录开始生成cscope索引数据
	2.2 cscope数据库放在`~/.cache/tags/`目录下
	2.3 源码比较大的时候，生成数据时间会变长

##### 快捷键

快捷键 |    对应cscope命令    |         功能
-------|----------------------|----------------------
 缺省  | :cs show             | 查看已加载的数据库
 缺省  | :cs add <cscope.out> | 加载指定的数据库
 ,ss   | :cs find s           | 查找symbol
 ,sg   | :cs find g           | 查找定义
 ,sd   | :cs find d           | 查找本函数调用的函数
 ,sc   | :cs find c           | 查找调用本函数的函数
 ,st   | :cs find t           | 查找指定的字符串
 ,se   | :cs find e           | 查找egrep模式
 ,sf   | :cs find f           | 查找并打开文件
 ,si   | :cs find i           | 查找包含本文件的文件


```
:GutentagsUpdate 更新索引数据
```

#### 2.3.2 ctags

##### 介绍

1. 使用ctags时注意ctags的数据库是否加载
2. 打开文件后，gutentags插件会自动生成tags数据
	2.1 根据文件路径向上逐级递归，如果发现某级目录下存在`.git`则，从此目录开始生成ctags索引数据
	2.2 ctags数据库放在`~/.cache/tags/`目录下
	2.3 源码比较大的时候，生成数据时间会变长

##### 快捷键

   快捷键    |  功能
-------------|------------------------
 Ctrl + ]    |  跳转到定义
 Ctrl + w +] |  跳转到定义并打开新窗口
 Ctrl+o      |  返回上一级


### 2.4 多标签页

快捷键 | 对应的命令  | 功能
-------|-------------|-----------
 ,c    | :tabnew     | 创建新标签页
 ,x    | :tabclose   | 删除标签页
 ,[    | :tabnext    | 移动到前一个标签
 ,]    | :tabprevious| 移动到下一个标签


### 2.5 常用的命令

git命令
```
:Git blame
:Git log
:Git add
:Git push
:Git pull
```

man手册
```
:Man 查看man手册
```

分割窗口
```
:vsp 竖切窗口
:sp  横切窗口
```

文本替换
```
:%s/<old>/<new>/g 全局替换字符串
```

文本搜索
```
/str 搜索字符串
#    搜索光标处单词
```


复制粘贴等操作
```
y复制
yy复制行
d剪切
dd剪切行
p粘贴
u撤销
Ctrl-r 反撤销
```

调用外部命令
```
:!<cmd> 执行命令
:r!<cmd> 将命令返回值放入当前编辑区
:sh  打开shell
```

编辑文本块
```
<Esc>  进入normal模式
Ctrl-v 进入块编辑选择界面
方向键 选择需要编辑的文本块
I      进入行插入模式
<Esc>  结束操作
```


